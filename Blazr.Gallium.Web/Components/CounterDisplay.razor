@inject IMessageBus MessageBus

<h3>CounterDisplay - @_message.Value </h3>

@code {
    private CounterMessage _message = new();

    protected override void OnInitialized()
    {
        this.MessageBus.Subscribe<CounterMessage>(Update);
    }

    private void Update(object value)
    {
        if (value is CounterMessage message)
            _message = message;

        this.InvokeAsync(StateHasChanged);
    }


    public void Dispose()
    {
        this.MessageBus.UnSubscribe<CounterMessage>(Update);
    }
}
